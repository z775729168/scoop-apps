{
    "version": "3.3.0",
    "description": "Your productive tools set and launcher.",
    "homepage": "https://u.tools/",
    "license": {
        "identifier": "Proprietary",
        "url": "http://u.tools/agreement.html"
    },
    "architecture": {
        "64bit": {
            "url": "https://publish.u-tools.cn/version2/uTools-3.3.0.exe#/dl.7z",
            "hash": "c22c0a0b90550cc3ffbb85eb9d211575ae4ba5907dbf9090ea8b4480277e23bb",
            "installer": {
                "script": "Expand-7zipArchive \"$dir\\`$PLUGINSDIR/app-64.7z\" \"$dir\""
            }
        },
        "32bit": {
            "url": "https://publish.u-tools.cn/version2/uTools-3.3.0-ia32.exe#/dl.7z",
            "hash": "2ea63030df803fdd5869ea7e60ae9fe491346a4806d793128dd34cf912b50523",
            "installer": {
                "script": "Expand-7zipArchive \"$dir\\`$PLUGINSDIR/app-32.7z\" \"$dir\""
            }
        }
    },
    "post_install": [
        "@('$PLUGINSDIR', '[NSIS].nsi', 'Uninstall uTools.exe') | ForEach-Object { Remove-Item \"$dir\\$_\" -Recurse -Force -ErrorAction SilentlyContinue }",
        "if (!(Test-Path \"$dir\\User Data\\*\") -and (Test-Path \"$env:AppData\\uTools\")) {",
        "    info '[Portable Mode]: Copying user data...'",
        "    Copy-Item \"$env:AppData\\uTools\\*\" \"$dir\\User Data\" -Recurse",
        "}"
    ],
    "shortcuts": [
        [
            "uTools.exe",
            "uTools"
        ]
    ],
    "persist": "User Data",
    "checkver": {
        "url": "https://u.tools/",
        "regex": "uTools-([\\d.]+).exe"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://publish.u-tools.cn/version2/uTools-$version.exe#/dl.7z"
            },
            "32bit": {
                "url": "https://publish.u-tools.cn/version2/uTools-$version-ia32.exe#/dl.7z"
            }
        }
    }
}
